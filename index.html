<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <!--<link rel="stylesheet" href="css/bootstrap.css">-->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div id="root">
    <div class="container">
        <h1 class="fleft">List of tasks</h1>
        <button class="fright addNew" @click="showingAddModal = true;">Add New</button>
        <div class="clear"></div>
        <hr>
        <p class="errorMessage" v-if="errorMessage">
            {{errorMessage}}
        </p>

        <p class="successMessage" v-if="successMessage">
            {{successMessage}}
        </p>

        <!--<input type="text" class="form-control" v-model="search"/>-->

        <table class="list">
            <tr>
                <th>ID</th>
                <th>Task</th>
                <th>Description</th>
                <th>Done</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
            <tr v-for="task in tasks">
                <td>{{task.id}}</td>
                <td>{{task.name}}</td>
                <td>{{task.description}}</td>
                <td>{{task.done}}</td>
                <td><button @click="showingEditModal = true; selectTask(task)">Edit</button></td>
                <td><button @click="showingDeleteModal = true; selectTask(task)">Delete</button></td>
            </tr>
        </table>
    </div>

    <div class="modal" id="addModal" v-if="showingAddModal">
        <div class="modalContainer">
            <div class="modalHeading">
                <p class="fleft">Add New Task</p>
                <button class="fright close" @click="showingAddModal = false;">x</button>
                <div class="clear"></div>
            </div>
            <div class="modalContent">
                <table class="form">
                    <tr>
                        <th>Task</th>
                        <th> : </th>
                        <td> <input type="text" name="" v-model="newTask.task"> </td>
                    </tr>

                    <tr>
                        <th>Description</th>
                        <th> : </th>
                        <td> <input type="text" name="" v-model="newTask.description"> </td>
                    </tr>

                    <tr>
                        <th></th>
                        <th> </th>
                        <td> <button @click="showingAddModal = false; saveTask();">Save</button> </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div class="modal" id="editModal" v-if="showingEditModal">
        <div class="modalContainer">
            <div class="modalHeading">
                <p class="fleft">Edit This Task</p>
                <button class="fright close" @click="showingEditModal = false;">x</button>
                <div class="clear"></div>
            </div>
            <div class="modalContent">
                <table class="form">
                    <tr>
                        <th>Task</th>
                        <th> : </th>
                        <td> <input type="text" name="" v-model="clickedTask.name"> </td>
                    </tr>

                    <tr>
                        <th>Email</th>
                        <th> : </th>
                        <td> <input type="text" name="" v-model="clickedTask.description"> </td>
                    </tr>

                    <tr>
                        <th></th>
                        <th> </th>
                        <td> <button @click="showingEditModal = false; updateTask()">Update</button> </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div class="modal" id="deleteModal" v-if="showingDeleteModal">
        <div class="modalContainer">
            <div class="modalHeading">
                <p class="fleft">Are you sure?</p>
                <button class="fright close" @click="showingDeleteModal = false;">x</button>
                <div class="clear"></div>
            </div>
            <div class="modalContent">
                <p>You are going to delete '{{clickedTask.name}}'.</p>
                <br><br><br><br><br>
                <button @click="showingDeleteModal = false; deleteTask()">Yes</button>
                <button @click="showingDeleteModal = false;">No</button>
            </div>
        </div>
    </div>

</div>


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
 <script type="text/javascript" src="js/vue.js"></script>
<script type="text/javascript" src="js/app.js"></script>
<!--<script type="text/javascript" src="js/bootstrap.js"></script>-->
</body>
</html>